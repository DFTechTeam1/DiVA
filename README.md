# DiVA
DiVA stand for DFactory Image Retrieval. This repository demonstrates a Proof of Concept (PoC) for an advanced Image Search Engine tailored for private datasets. Designed to search and retrieve visually similar images, this project leverages state-of-the-art models to efficiently index and query images.

## Approach
| ![CLIP](https://raw.githubusercontent.com/mlfoundations/open_clip/main/docs/CLIP.png) |
|:--:|
| Image Credit: https://github.com/openai/CLIP |

## Architecture Flow
| ![CLIP](https://github.com/DFTechTeam1/image-search-engine/blob/feature/encoder/images/Architecture%20Flow.png) |
|:--:|
| Image Credit: https://github.com/DFTechTeam1/image-search-engine/ |

## Project Structures ##
```
├──models\                      # Folder for storing trained machine learning models.
├──examples\                    # Folder containing examples or tutorials related to the project.
├──images\                      # Folder for saving images used or generated by the project.
├──script\                      # Folder for shell scripts to automate tasks.
│   ├──run_server.sh            # Script to start the FastAPI server.
│   ├──setup.sh                 # Script to install and configure project dependencies.
├──src\                         # Main folder containing the core application code.
│   ├──routers\                 # Folder for API route definitions.
│   ├──schema\                  # Folder for defining request and response formats for the API.
│   ├──main.py                  # The main file to launch the FastAPI application.
│   ├──secret.py                # File for managing sensitive information from the .env file.
├──tests\                       # Folder containing automated tests to ensure the application works correctly.
├──utils\                       # Folder for utility functions and tools used across the project.
│   ├──custom_errors.py         # Custom error handling for interactions with external services.
│   ├──helper.py                # General-purpose helper functions.
│   ├──logger.py                # Logging setup for tracking errors and system activities.
pyproject.toml                  # Configuration file listing all required libraries and dependencies.
```

# Project Setup Instructions
This project is developed using WSL (Ubuntu 24.04.1 LTS on Windows 10) with Python v3.12.3. To get started, you'll need to install Docker and Poetry.

## Prerequisites

- **Python v3.12.3**
- **Docker**
- **Poetry**

## Setup steps

1. **Run setup script**
    ```
    sh scripts/setup.sh
    ```

2. **Mount NAS directory**
    ```
    sh scripts/mount_nas.sh
    ```

2. **Start the RabbitMQ container**
    ```
    docker-compose up -d
    ```

3. **Start the streamlit server**
    ```
    sh scripts/run_server.sh
    ```

4. **Access steamlit server**
    ```
    http://localhost:8000/docs
    ```

# Project Features
- [ ] Filter spesific data source.
- [ ] Develop at least 5 test case for all function.
- [ ] Add queueing method (e.g: Kafka, RabbitMQ, Redis) / rate limitter for preventing DDoS attack.



# Project Future Plan
- [ ] Change the current framework into more propper framework (e.g: FastAPI, Flask, Django), resulting a service-based Image Search Engine API and integrate into front-end website.
- [ ] Integrate project with database with classification method for each image and hopefully increasing an accuracy for returning similar image.


## Notes
- The setup.sh script configures the virtual environment and installs all necessary dependencies.
- Ensure that you already mounted the NAS directory using mount_nas.sh.
- The run_server.sh script starts the streamlit server.
- The run_test.sh script starts the unit testing and generates the report of test.
according to the business processes.

# Repo Owner? #
* Bastian Armananta
